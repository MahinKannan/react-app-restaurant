(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),i=a(20),o=a(2),l=(a(39),a(6)),c=a(7),u=a(9),h=a(8);function d(e){return console.log("InRando"),e[Math.floor(Math.random()*e.length)]}function m(){console.log("IngetFunNmae");return"".concat(d(["blue","red","gree","clean","dirty","hot"]),"-").concat(d(["car","leaves","tree","pillow","blanket"]))}var p=a(17),f=a.n(p),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"goToStore",value:function(e){e.preventDefault(),console.log("Changing store"),console.log(this.storeInput.value);this.storeInput.value;this.props.history.push("/store/".concat(this.storeInput.value))}},{key:"render",value:function(){var e=this;return console.log("InStorePicker"),r.a.createElement("div",null,r.a.createElement("div",null," Landing Page. ",r.a.createElement("br",null),"Enter store as blue-pillow for preloaded inventory. (Randomly generated store will have no inventory) ",r.a.createElement("br",null),"Since admin rights are reserved with me, you will not be able to add inventory. ",r.a.createElement("br",null),"Menu items can be added to cart.",r.a.createElement("br",null),"The inventory database syncs with firebase realtime database "),"Description of all the features and concepts used. ",r.a.createElement("br",null),"1. Menu items added to cart are saved using local storage. ",r.a.createElement("br",null),"2. Items in inventory are synced with realtime firebase ",r.a.createElement("br",null),"3. Small x mark next to items on cart removes items from cart. ",r.a.createElement("br",null),r.a.createElement("form",{className:"store-selector",onSubmit:this.goToStore.bind(this)},r.a.createElement("h2",null," Enter Store "),r.a.createElement("input",{type:"text",required:!0,placeholder:"Store Name",defaultValue:m(),ref:function(t){e.storeInput=t}}),r.a.createElement("button",{type:"Subit"},"VisitStoree")))}}]),a}(r.a.Component);v.contextTypes={router:f.a.object.isRequired};var b=Object(o.f)(v),g=a(14),y=a(3),O=function(e){return console.log(e),r.a.createElement("div",{className:"stack"},r.a.createElement("h1",null,"Catch of the Day"),r.a.createElement("hr",null),r.a.createElement("h2",null,e.firstName))};function E(e){return(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})}var j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).renderOrder=e.renderOrder.bind(Object(y.a)(e)),e}return Object(c.a)(a,[{key:"renderOrder",value:function(e){var t=this,a=this.props.fishes[e],n=this.props.order[e],s=r.a.createElement("button",{onClick:function(){return t.props.removeFromOrder(e)}},"\xd7");return a&&"unavailable"!==a.status?r.a.createElement("li",{key:e},r.a.createElement("span",null,n,"lbs ",a.name," ",s," "),r.a.createElement("span",null," ",E(n*a.price)," ")):r.a.createElement("li",{key:e}," Sorry, ",a?a.name:"fish"," no mo",s)}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.order),a=t.reduce((function(t,a){var n=e.props.fishes[a],r=e.props.order[a];return n&&"available"===n.status?t+(r*n.price||0):t}),0);return r.a.createElement("div",{className:"stack"},"Order",r.a.createElement("ul",null,t.map(this.renderOrder),r.a.createElement("li",null,"Total: ",E(a))))}}]),a}(r.a.Component),k=a(21),S=a.n(k),F=a(28),w=a(24),I=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"createFish",value:function(e){e.preventDefault(),console.log("Creating fish now"),console.log(this.name.value);var t={name:this.name.value,price:this.price.value,status:this.status.value,desc:this.desc.value,image:this.image.value};console.log(t),this.props.addFish(t),this.fishForm.reset()}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{ref:function(t){return e.fishForm=t},className:"store-selector",onSubmit:this.createFish.bind(this)},r.a.createElement("input",{ref:function(t){return e.name=t},type:"text",placeholder:"Fish Name"}),r.a.createElement("input",{ref:function(t){return e.price=t},type:"text",placeholder:"Price"}),r.a.createElement("select",{ref:function(t){return e.status=t}},r.a.createElement("option",{value:"available"},"Fresh"),r.a.createElement("option",{value:"unavailable"},"SoldOut")),r.a.createElement("input",{ref:function(t){return e.desc=t},type:"textarea",placeholder:"Description"}),r.a.createElement("input",{ref:function(t){return e.image=t},type:"text",placeholder:"Image"}),r.a.createElement("button",{type:"submit"}," Add Item "))}}]),a}(r.a.Component),C=a(19),x=a.n(C),N=a(33),T=a.n(N),A=x.a.initializeApp({apiKey:"AIzaSyBMjlHfA7_1GoslTjBxIZodqIJLrAq4y24",authDomain:"fishproject-27fd0.firebaseapp.com",databaseURL:"https://fishproject-27fd0.firebaseio.com"}),L=T.a.createClass(A.database()),D=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).authenticate=function(t){console.log("Using ".concat(t));var a=new x.a.auth.GithubAuthProvider;A.auth().signInWithPopup(a).then(e.authHandler)},e.renderInventory=e.renderInventory.bind(Object(y.a)(e)),e.handleChange=e.handleChange.bind(Object(y.a)(e)),e.renderLogin=e.renderLogin.bind(Object(y.a)(e)),e.authenticate=e.authenticate.bind(Object(y.a)(e)),e.authenticateGit=e.authenticateGit.bind(Object(y.a)(e)),e.authHandler=e.authHandler.bind(Object(y.a)(e)),e.logout=e.logout.bind(Object(y.a)(e)),e.state={uid:null,owner:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.a.auth().onAuthStateChanged((function(t){t&&e.authHandler({user:t})}))}},{key:"handleChange",value:function(e,t){var a=this.props.fishes[t],n=Object(g.a)(Object(g.a)({},a),{},Object(w.a)({},e.target.name,e.target.value));this.props.updateFish(t,n)}},{key:"authenticateGit",value:function(){var e=new x.a.auth.GithubAuthProvider;A.auth().signInWithPopup(e).then(this.authHandler)}},{key:"logout",value:function(){var e=Object(F.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.auth().signOut();case 2:this.setState({uid:null});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authHandler",value:function(){var e=Object(F.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("yohit"),console.log(t),console.log(this.props.storeId),e.next=5,L.fetch(this.props.storeId,{context:this});case 5:if(a=e.sent,console.log(a),a.owner){e.next=10;break}return e.next=10,L.post("".concat(this.props.storeId,"/owner"),{data:t.user.uid});case 10:this.setState({uid:t.user.uid,owner:a.owner||t.user.uid});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderLogin",value:function(){var e=this;return r.a.createElement("nav",null,r.a.createElement("h2",null," Inventory "),r.a.createElement("p",null," Sign in to manage your store's inventory "),r.a.createElement("button",{onClick:function(){return e.authenticateGit()}}," GitHub Login "),r.a.createElement("button",{onClick:function(){return e.authenticate("email")}}," Email Login (not setup yet) "))}},{key:"renderInventory",value:function(e){var t=this,a=this.props.fishes[e];return r.a.createElement("div",{key:e},r.a.createElement("input",{name:"name",value:a.name,type:"text",placeholder:"Fish Name",onChange:function(a){return t.handleChange(a,e)}}),r.a.createElement("input",{name:"price",value:a.price,type:"text",placeholder:"Price",onChange:function(a){return t.handleChange(a,e)}}),r.a.createElement("select",{name:"status",value:a.status,onChange:function(a){return t.handleChange(a,e)}},r.a.createElement("option",{value:"available"},"Fresh"),r.a.createElement("option",{value:"unavailable"},"SoldOut")),r.a.createElement("input",{name:"desc",value:a.desc,type:"textarea",placeholder:"Description",onChange:function(a){return t.handleChange(a,e)}}),r.a.createElement("input",{name:"image",value:a.image,type:"text",placeholder:"Image",onChange:function(a){return t.handleChange(a,e)}}),r.a.createElement("button",{onClick:function(){return t.props.removeFish(e)}}," Remove Fish "),r.a.createElement("br",null))}},{key:"render",value:function(){var e=r.a.createElement("button",{onClick:this.logout}," LogOu ");return this.state.uid?this.state.uid!=this.state.owner?r.a.createElement("div",null,"Sorrey ",e):r.a.createElement("div",{className:"stack"},"Inventory ",e,Object.keys(this.props.fishes).map(this.renderInventory),r.a.createElement(I,{addFish:this.props.addFish}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.props.loadSamples}," Load Sample Fishes ")):r.a.createElement("div",null,this.renderLogin())}}]),a}(r.a.Component),M={fish1:{name:"Pacific Halibut",image:"/images/hali.jpg",desc:"Everyone\u2019s favorite white fish. We will cut it to the size you need and ship it.",price:1724,status:"available"},fish2:{name:"Lobster",image:"/images/lobster.jpg",desc:"These tender, mouth-watering beauties are a fantastic hit at any dinner party.",price:3200,status:"available"},fish3:{name:"Sea Scallops",image:"/images/scallops.jpg",desc:"Big, sweet and tender. True dry-pack scallops from the icey waters of Alaska. About 8-10 per pound",price:1684,status:"unavailable"},fish4:{name:"Mahi Mahi",image:"/images/mahi.jpg",desc:"Lean flesh with a mild, sweet flavor profile, moderately firm texture and large, moist flakes. ",price:1129,status:"available"},fish5:{name:"King Crab",image:"/images/crab.jpg",desc:"Crack these open and enjoy them plain or with one of our cocktail sauces",price:4234,status:"available"},fish6:{name:"Atlantic Salmon",image:"/images/salmon.jpg",desc:"This flaky, oily salmon is truly the king of the sea. Bake it, grill it, broil it...as good as it gets!",price:1453,status:"available"},fish7:{name:"Oysters",image:"/images/oysters.jpg",desc:"A soft plump oyster with a sweet salty flavor and a clean finish.",price:2543,status:"available"},fish8:{name:"Mussels",image:"/images/mussels.jpg",desc:"The best mussels from the Pacific Northwest with a full-flavored and complex taste.",price:425,status:"available"},fish9:{name:"Jumbo Prawns",image:"/images/prawns.jpg",desc:"With 21-25 two bite prawns in each pound, these sweet morsels are perfect for shish-kabobs.",price:2250,status:"available"}},P=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.details,n=t.index,s="available"===a.status,i=s?"Add to Order":"Sold Out!";return r.a.createElement("li",{className:"menu-fish"},r.a.createElement("img",{className:"fishpix",src:this.props.details.image,alt:this.props.details.name}),r.a.createElement("h3",null,a.name),r.a.createElement("h2",null," ",E(a.price)," "),r.a.createElement("button",{onClick:function(){return e.props.addToOrder(n)},disabled:!s}," ",i," "))}}]),a}(r.a.Component),H=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).addFish=e.addFish.bind(Object(y.a)(e)),e.updateFish=e.updateFish.bind(Object(y.a)(e)),e.removeFish=e.removeFish.bind(Object(y.a)(e)),e.loadSamples=e.loadSamples.bind(Object(y.a)(e)),e.addToOrder=e.addToOrder.bind(Object(y.a)(e)),e.removeFromOrder=e.removeFromOrder.bind(Object(y.a)(e)),e.state={fishes:{},order:{}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.ref=L.syncState("".concat(this.props.match.params.storeId,"/fishes"),{context:this,state:"fishes"});var e=localStorage.getItem(this.props.match.params.storeId);e&&this.setState({order:JSON.parse(e)})}},{key:"componentDidUpdate",value:function(){console.log(this.state.order),localStorage.setItem(this.props.match.params.storeId,JSON.stringify(this.state.order))}},{key:"compnentWillUnmount",value:function(){L.removeBinding(this.ref)}},{key:"addFish",value:function(e){console.log("ActualMethodToAddFish");var t=Object(g.a)({},this.state.fishes),a=Date.now();t["fish-".concat(a)]=e,this.setState({fishes:t})}},{key:"removeFish",value:function(e){var t=Object(g.a)({},this.state.fishes);t[e]=null,this.setState({fishes:t})}},{key:"updateFish",value:function(e,t){var a=Object(g.a)({},this.state.fishes);a[e]=t,this.setState({fishes:a})}},{key:"loadSamples",value:function(){this.setState({fishes:M})}},{key:"addToOrder",value:function(e){var t=Object(g.a)({},this.state.order);t[e]=t[e]+1||1,this.setState({order:t})}},{key:"removeFromOrder",value:function(e){var t=Object(g.a)({},this.state.order);delete t[e],this.setState({order:t})}},{key:"render",value:function(){var e=this;return console.log("InApp"),console.log(this),r.a.createElement("div",{className:"catch-of-the-day"},r.a.createElement("div",{className:"menu"},r.a.createElement(O,{firstName:"Fresh SeaFood"}),r.a.createElement("div",{className:"listOfFishes"},r.a.createElement("ul",null,Object.keys(this.state.fishes).map((function(t){return r.a.createElement(P,{key:t,index:t,details:e.state.fishes[t],addToOrder:e.addToOrder})}))))),r.a.createElement(j,{fishes:this.state.fishes,order:this.state.order,params:this.props.params,removeFromOrder:this.removeFromOrder}),r.a.createElement(D,{removeFish:this.removeFish,updateFish:this.updateFish,loadSamples:this.loadSamples,addFish:this.addFish,fishes:this.state.fishes,storeId:this.props.match.params.storeId}))}}]),a}(r.a.Component),G=Object(o.f)(H),J=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return console.log("NotFoundfdsa"),r.a.createElement("div",null," NotFound!!")}}]),a}(r.a.Component);console.log("HI");var U="/".concat(window.location.pathname.split("/")[1]);console.log(U);var q=function(){return r.a.createElement(i.a,{basename:"/"},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/store/:storeId"}," ",r.a.createElement(G,null)," "),r.a.createElement(o.a,{path:"/"}," ",r.a.createElement(b,null)," "),r.a.createElement(o.a,null," ",r.a.createElement(J,null)," ")))};Object(s.render)(r.a.createElement(q,null),document.querySelector("#main"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a9e8c525.chunk.js.map